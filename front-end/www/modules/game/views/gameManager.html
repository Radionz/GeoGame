<ion-view view-title="Game manager">
  <ion-content>
    <div class="row">
      <div class="col-33">
        <div class="card">
          <div class="item item-divider">
            Game's list
          </div>
          <div class="item item-text-wrap">
            <ul class="list">
              <li class="item"  ng-repeat="game in games">
                <h2>{{game.name}}</h2>
                <p>{{game.questions.length}} question(s)</p>
                <p ng-show="game.status == 'STARTED'">{{game.scoreBoard.length}}/{{game.playerNb}} player(s)</p>
                <p ng-show="game.status == 'STARTED'">Started at {{game.started_at | date:'HH:mm'}} ({{game.timeElapsed | date:'HH:mm:ss'}} remaining)</p>
                <span class="badge badge-calm">Status: {{game.status}}</span>
                <button class="button icon-left ion-trash-a button-small button-assertive pull-right" style="float: right; margin-right: 16px;" ng-click="deleteGame(game._id, $index)">Delete</button>
                <button class="button icon-left ion-log-in button-small button-balanced pull-right" style="float: right; margin-right: 16px;" ng-show="game.status == 'NOT_STARTED'" ng-click="startGame(game, $index)">Start</button>
                <button class="button icon-left ion-log-out button-small button-assertive pull-right" style="float: right; margin-right: 16px;" ng-show="game.status == 'STARTED'" ng-click="stopGame(game, $index)">Stop</button>
                <div style="clear: both;"></div>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="col-67">
        <div class="card">

          <div class="item item-divider">
            Create a new game
          </div>

          <label class="item item-input item-floating-label">
            <span class="input-label">Name</span>
            <input type="text" placeholder="Name" ng-model="game.name">
          </label>

          <div class="item item-divider">
            Questions
          </div>
          <div class="item">
            <ion-list>
              <div  ng-repeat="question in questions">
                <ion-checkbox ng-model="question.checked" ng-change="questionSelected()">
                  <h2>{{question.name}} ({{question.nb_point}} pts)</h2>
                  <span>Question: {{question.question}}</span>
                  <span>Answer: {{question.answer}}</span>
                  <div style="clear: both;"></div>
                </ion-checkbox>
              </div>
            </ion-list>

          </div>

          <div class="item item-divider">
            Settings
          </div>
          <div class="item item-text-wrap">
            <div class="list">
              <div class="item range range-positive">
                <i class="icon ion-ios-clock-outline"></i>
                <input type="range" name="duration" min="0" max="120" value="90" ng-change="computeHourAndMinutes()" ng-model="game.duration">
                <span style="width: 60px;">{{game.duration}} min</span>
                <!-- <span ng-show="gameSettings.hours > 0">{{gameSettings.hours}}h</span><span ng-show="gameSettings.minutes > 0">{{gameSettings.minutes}}</span><span ng-hide="gameSettings.hours > 0">min</span> -->
              </div>
              <div class="item range range-positive">
                <i class="icon ion-ios-people"></i>
                <input type="range" name="nb_player" min="0" max="15" value="5" ng-model="game.playerNb">
                <span style="width: 60px;">{{game.playerNb}} pers</span>
              </div>
            </div>
          </div>
          <div class="item item-divider">
            <button type="submit" class="button button-full button-balanced" ng-click="createGame(game)">Create !</button>
          </div>
        </div>

      </div>
      <!-- /col-67  -->
    </div>
  </ion-content>
</ion-view>
